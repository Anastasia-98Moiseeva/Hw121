# Hw121

В данной реализации используем два лока: для головы и для хвоста. Нигде мы не берем два лока сразу, поэтому дедлока быть не может.

Чтобы избежать датарейсов переменную, отвечающую за размер очереди сделаем атомиком.

Корректность операций pop, push и peek достигается с помощью выставления условия. 
Так, например, в операции push мы сравниваем вместимость очереди с ее размером. 
Две операции push не могут выполняться параллельно, а значит размер очереди не сможет увеличиться во время выполнения push.
Аналогичные сравнения мы выполняем в операциях pop и peek (только теперь сравниваем размер очереди с 0).
Две операции pop также не могут выполняться параллельно, а значит размер очереди не сможет уменьшиться во время выполнения операции pop.

